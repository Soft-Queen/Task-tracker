(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{37265:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signin",function(){return a(94621)}])},2832:function(e,s,a){"use strict";var t=a(85893),o=a(11163),l=a(67294),n=a(9473);let r=e=>{let{children:s}=e,a=(0,o.useRouter)(),[r,i]=(0,l.useState)(!1),{auth:{isLoggedIn:d}}=(0,n.v9)(e=>e),c=(0,n.I0)();function m(e){localStorage.getItem("VNUsrToken")?(i(!1),a.push("/dashboard")):localStorage.getItem("VNAdmToken")?(i(!1),a.push("/admin")):localStorage.getItem("VNEspToken")&&(i(!1),a.push("/esp")),localStorage.getItem("VNUsrToken")||localStorage.getItem("VNAdmToken")||localStorage.getItem("VNEspToken")||i(!0)}return(0,l.useEffect)(()=>{m(a.asPath);let e=()=>i(!1);return a.events.on("routeChangeStart",e),a.events.on("routeChangeComplete",m),()=>{a.events.off("routeChangeStart",e),a.events.off("routeChangeComplete",m)}},[c]),r?(0,t.jsx)(t.Fragment,{children:s}):null};s.Z=r},98012:function(e,s,a){"use strict";var t=a(85893);a(67294);let o=()=>(0,t.jsxs)("span",{className:"load px-2",children:[(0,t.jsx)("div",{className:"load__dot load__dot--one mx-1"}),(0,t.jsx)("div",{className:"load__dot load__dot--two mx-1"}),(0,t.jsx)("div",{className:"load__dot load__dot--three mx-1"})]});s.Z=o},72283:function(e,s,a){"use strict";var t=a(85893),o=a(2832);a(67294);let l=e=>{let{children:s,image:a}=e;return(0,t.jsx)(o.Z,{children:(0,t.jsx)("main",{className:"auth my-5 my-lg-0",children:(0,t.jsxs)("div",{className:"row h-100 p-0 m-0",children:[(0,t.jsx)("div",{className:"col-lg-6 p-0 d-flex flex-column align-items-center justify-content-center position-relative",children:s}),(0,t.jsx)("div",{className:"col-lg-6 p-0 d-none d-lg-flex auth__placeholder-image",style:{background:"url(".concat(a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})})})};s.Z=l},39441:function(e,s,a){"use strict";var t=a(85893),o=a(25675),l=a.n(o);a(67294);let n=e=>{let{image:s,text:a,status:o}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)(l(),{src:s,width:2e3,height:100,alt:o,className:"",style:{width:"2rem",height:"auto",objectFit:"cover"}})," ",a]})};s.Z=n},25592:function(e,s,a){"use strict";var t=a(85893),o=a(39441);a(67294);var l=a(55678);let n=e=>(0,t.jsx)(t.Fragment,{children:(0,l.Am)((0,t.jsx)(o.Z,{text:e,image:"/notify/error.svg",status:"Error"}),{position:"top-right",autoClose:1e4,hideProgressBar:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:l.Mi,className:"toast--error"})});s.Z=n},94621:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var t=a(85893),o=a(25592),l=a(82175),n=a(41664),r=a.n(n),i=a(11163),d=a(67294),c=a(9473),m=a(16310),u=a(48691),h=a(98012),g=a(55678),p=a(24096);let v=()=>{let[e,s]=(0,d.useState)([]),[a,n]=(0,d.useState)({email:!1,password:!1}),[v,x]=(0,d.useState)(),[f,w]=(0,d.useState)(!1),j=()=>{w(!f)},N=m.Ry().shape({email:m.Z_().email().required("Email is required").label("Email")}),_=(0,i.useRouter)(),{auth:{data:b,loading:y}}=(0,c.v9)(e=>e),k=(0,c.I0)();(0,d.useEffect)(()=>{if(b){var e,a,t,l,n;(null==b?void 0:b.name)==="AxiosError"&&(null==b||null===(e=b.response)||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.errors)||void 0===t||t.map(e=>{e.message.includes("mailbox")&&_.push("/auth/confirm-mail/".concat(v)),(null==e?void 0:e.message)&&((null==e?void 0:e.message.includes("email"))||(null==e?void 0:e.message.includes("user"))||(null==e?void 0:e.message.includes("password")))?s(s=>[...s,e]):(0,o.Z)((null==e?void 0:e.message)?null==e?void 0:e.message:"Something went wrong please try again")})),(null==b?void 0:b.message)==="Network Error"&&(0,o.Z)((null==b?void 0:b.message)?null==b?void 0:b.message:"Something went wrong please try again"),(null==b?void 0:b.status)==="success"&&((null==b?void 0:b.msg)==="A confirmation code has been sent to your email address."?_.push("/auth/confirm-mail/".concat(v)):(0,p.Z)(null==b?void 0:null===(l=b.data)||void 0===l?void 0:null===(n=l.user)||void 0===n?void 0:n.role,b.token,_))}return()=>{_.isReady&&k((0,u.Nk)())}},[b]);let S=e=>{s([]),x(e.email),k((0,u.n$)(e))};return(0,t.jsxs)("div",{className:"auth__form",children:[(0,t.jsx)(g.Ix,{}),(0,t.jsx)(l.J9,{initialValues:{email:"",password:""},validationSchema:N,validateOnBlur:!1,onSubmit:S,children:s=>{let{errors:o,touched:n,isValid:i,dirty:d}=s;return(0,t.jsx)(l.l0,{className:"",children:(0,t.jsxs)("div",{className:"row w-100 m-0",children:[(0,t.jsxs)("div",{className:"col-md-12 my-2 my-lg-2 w-100 px-0 text-start",children:[(0,t.jsx)(t.Fragment,{}),(0,t.jsx)("label",{htmlFor:"email",className:"auth__form--label mb-2 ",children:"Email"}),(0,t.jsx)(l.gN,{id:"email",name:"email",className:o.email&&n.email?"w-100 p-2 p-lg-3 is-invalid form-control shadow-none w-100":"w-100 p-2 p-lg-3  ".concat(a.password&&"is-invalid form-control"),placeholder:"Email address",type:"email"}),(0,t.jsx)(t.Fragment,{children:0!==e.length&&e.map(e=>{var s,a;return((null==e?void 0:null===(s=e.message)||void 0===s?void 0:s.includes("email"))||(null==e?void 0:null===(a=e.message)||void 0===a?void 0:a.includes("user"))||(null==e?void 0:e.field)==="email")&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"error mt-1",children:[(null==e?void 0:e.message)&&(null==e?void 0:e.message),(null==e?void 0:e.msg)&&(null==e?void 0:e.msg)]})})})}),(0,t.jsx)(l.Bc,{name:"email",component:"div",className:"error mt-1"})]}),(0,t.jsxs)("div",{className:"col-md-12 my-2 my-lg-2 w-100 px-0 text-start",children:[(0,t.jsx)("label",{htmlFor:"password",className:"mb-2",children:"Password"}),(0,t.jsx)(l.gN,{type:f?"text":"password",name:"password",id:"password",placeholder:"Password",className:o.password&&n.password?"input-error is-invalid form-control  password py-3 px-3 shadow-none w-100":"password py-3 px-3 shadow-none w-100 ".concat(a.password&&"is-invalid form-control")}),!(o.password&&n.password)&&!a.password&&(0,t.jsx)("i",{className:f?"fa-regular fa-eye fa-fw":"fa-regular fa-eye-slash fa-fw",onClick:j}),(0,t.jsx)(t.Fragment,{children:0!==e.length&&e.map(e=>(null==e?void 0:e.field)==="password"&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"error mt-1",children:[(null==e?void 0:e.message)&&(null==e?void 0:e.message),(null==e?void 0:e.msg)&&(null==e?void 0:e.msg)]})}))}),(0,t.jsx)(l.Bc,{name:"password",component:"div",className:"error mt-1"})]}),(0,t.jsx)(r(),{href:"/auth/forgot-password",className:"text-start my-1 my-lg-2 p-0 auth__form--link",children:"Forgot password?"}),(0,t.jsx)("div",{className:" my-2 my-lg- px-0 my-3 my-lg-4",children:y?(0,t.jsx)("button",{type:"submit",className:d&&i?"contact__form--submit py-3 ms-0 w-100 fw-bold":"disabled-btn contact__form--submit py-3 ms-0 w-100 fw-bold",disabled:!0,children:(0,t.jsx)(h.Z,{})}):(0,t.jsx)("button",{type:"submit",className:d&&i?"contact__form--submit py-3 ms-0 w-100 fw-bold":"disabled-btn contact__form--submit py-3 ms-0 w-100 fw-bold",children:"Sign in"})})]})})}})]})};var x=a(72283),f=a(9008),w=a.n(f),j=a(25675),N=a.n(j);let _=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(w(),{children:[(0,t.jsx)("title",{children:"Venture Nation - Signin"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"auth__header text-center",children:[(0,t.jsx)(r(),{href:"/",children:(0,t.jsx)(N(),{alt:"",src:"/logo/logo.svg",width:500,height:100,className:"mb-2 mb-lg-3",style:{width:"5rem",height:"auto"}})}),(0,t.jsx)("h5",{className:"py-2 mb-0",children:"Welcome back!"}),(0,t.jsx)("p",{className:"",children:"Kindly input your details to access your account."})]}),(0,t.jsxs)("div",{className:"auth__body my-3 w-100",children:[(0,t.jsx)(v,{}),(0,t.jsx)("div",{className:"text-center auth__footer",children:(0,t.jsxs)("p",{children:["Don't have an account?"," ",(0,t.jsx)(r(),{href:"/auth/welcome",className:"text-decoration-none auth__footer--link",children:"Sign up"})]})})]})]})]});var b=_;_.getLayout=function(e){return(0,t.jsx)(x.Z,{image:"/auth/banner/1.png",children:e})}},24096:function(e,s,a){"use strict";var t=a(72479);let o=(e,s,a)=>{"admin"===e?(document.cookie="token=".concat(s),localStorage.setItem("VNAdmToken",s),localStorage.removeItem("VNUsrToken"),localStorage.removeItem("VNEspToken"),t.ZP.defaults.headers.Authorization="Bearer ".concat(s),a.push("/admin")):"esp"===e?(document.cookie="token=".concat(s),localStorage.setItem("VNEspToken",s),localStorage.removeItem("VNAdmToken"),localStorage.removeItem("VNUsrToken"),t.ZP.defaults.headers.Authorization="Bearer ".concat(s),a.push("/esp")):(document.cookie="token=".concat(s),localStorage.setItem("VNUsrToken",s),localStorage.removeItem("VNAdmToken"),localStorage.removeItem("VNEspToken"),t.ZP.defaults.headers.Authorization="Bearer ".concat(s),a.push("/dashboard"))};s.Z=o}},function(e){e.O(0,[2675,6310,2175,9774,2888,179],function(){return e(e.s=37265)}),_N_E=e.O()}]);